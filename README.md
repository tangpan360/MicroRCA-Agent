# MicroRCA-Agentï¼šåŸºäºå¤§æ¨¡å‹æ™ºèƒ½ä½“çš„å¾®æœåŠ¡æ ¹å› å®šä½æ–¹æ³•
## å›½é™…AIOpsæŒ‘æˆ˜èµ› (åˆèµ›ç¬¬6ï¼Œ48.52åˆ†)
## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºå¤šæ¨¡æ€æ•°æ®åˆ†æçš„æ™ºèƒ½è¿ç»´è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿå¤„ç†æ—¥å¿—(Log)ã€é“¾è·¯è¿½è¸ª(Trace)å’ŒæŒ‡æ ‡(Metric)æ•°æ®ï¼Œé€šè¿‡å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œæ•…éšœåˆ†æå’Œæ ¹å› å®šä½ã€‚é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œæ•´ä½“ç³»ç»Ÿåˆ†ä¸ºäº”ä¸ªæ ¸å¿ƒæ¨¡å—ï¼šæ•°æ®é¢„å¤„ç†æ¨¡å—ã€æ—¥å¿—æ•…éšœæŠ½å–æ¨¡å—ã€è¿½è¸ªæ•…éšœæ£€æµ‹æ¨¡å—ã€æŒ‡æ ‡æ•…éšœæ€»ç»“æ¨¡å—å’Œå¤šæ¨¡æ€æ ¹å› åˆ†ææ¨¡å—ã€‚å„æ¨¡å—é—´é‡‡ç”¨æ¾è€¦åˆè®¾è®¡ï¼Œé€šè¿‡å‡½æ•°å°è£…è¿›è¡Œæ•°æ®äº¤äº’ï¼Œæ—¢ä¿è¯äº†ç³»ç»Ÿçš„æ•´ä½“æ€§ï¼Œåˆç¡®ä¿äº†å„æ¨¡å—çš„ç‹¬ç«‹æ€§å’Œå¯æ‰©å±•æ€§ã€‚
è¾“å‡ºåŒ…å«componentã€reasonã€reasoning_traceçš„ç»“æ„åŒ–æ ¹å› åˆ†æç»“æœï¼Œå®ç°ä»ç°è±¡è§‚å¯Ÿåˆ°æ ¹å› æ¨ç†çš„å®Œæ•´é—­ç¯ã€‚
![é¡¹ç›®æ¶æ„å›¾](imgs/overview.png)




## æ–‡ä»¶ç»“æ„è¯´æ˜

```
â”œâ”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ domain.conf           # å¤–ç½‘åŸŸåé…ç½®
â”œâ”€â”€ src/                  # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ agent/           # æ™ºèƒ½ä»£ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py  # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ agents.py    # ä»£ç†å®ç°
â”‚   â”‚   â”œâ”€â”€ llm_config.py # LLMé…ç½®ï¼Œåœ¨è¿™é‡Œé…ç½®agentä½¿ç”¨çš„æ¨¡å‹åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ prompts.py   # æç¤ºè¯æ¨¡æ¿
â”‚   â”œâ”€â”€ utils/           # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ drain/       # Drainæ—¥å¿—æ¨¡æ¿æå–
â”‚   â”‚   â”‚   â”œâ”€â”€ drain_template_extractor.py # Drainæ¨¡æ¿æå–å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ drain3.ini              # Drain3é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ error_log-drain.pkl     # é¢„è®­ç»ƒå¥½çš„æ¨¡æ¿æå–æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ error_log-template.csv  # æ—¥å¿—æ¨¡æ¿æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py  # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ file_utils.py # æ–‡ä»¶å¤„ç†å·¥å…·
â”‚   â”‚   â”œâ”€â”€ io_util.py   # IOå·¥å…·
â”‚   â”‚   â”œâ”€â”€ llm_record_utils.py # LLMè®°å½•å·¥å…·
â”‚   â”‚   â”œâ”€â”€ log_template_extractor.py # æ—¥å¿—æ¨¡æ¿æå–å™¨ï¼ˆè®­ç»ƒerrot_log-drain.pklï¼‰
â”‚   â”‚   â”œâ”€â”€ log_template_extractor_with_examples.py # å¸¦ç¤ºä¾‹çš„æ—¥å¿—æ¨¡æ¿æå–å™¨ï¼ˆç”¨äºè§‚å¯Ÿè®­ç»ƒçš„drainæå–æ•ˆæœï¼‰
â”‚   â”‚   â”œâ”€â”€ log_utils.py # æ—¥å¿—å¤„ç†å·¥å…·ï¼ˆç”¨äºè°ƒç”¨æ—¥å¿—ä¿¡æ¯ä¾›å¤§æ¨¡å‹ä½¿ç”¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ metric_utils.py # æŒ‡æ ‡å¤„ç†å·¥å…·ï¼ˆç”¨äºè°ƒç”¨æŒ‡æ ‡ä¿¡æ¯ä¾›å¤§æ¨¡å‹ä½¿ç”¨ï¼‰
â”‚   â”‚   â””â”€â”€ trace_utils.py # é“¾è·¯è¿½è¸ªå¤„ç†å·¥å…·ï¼ˆç”¨äºè°ƒç”¨é“¾è·¯è¿½è¸ªä¿¡æ¯ä¾›å¤§æ¨¡å‹ä½¿ç”¨ï¼‰
â”‚   â”œâ”€â”€ models           # æ¨¡å‹ï¼ˆtraceå¼‚å¸¸æ£€æµ‹æ¨¡å‹ï¼‰
â”‚   â”œâ”€â”€ scripts/         # æ•°æ®é¢„å¤„ç†è„šæœ¬ï¼ŒåŒ…æ‹¬ç»Ÿä¸€logã€traceã€metricçš„æ—¶é—´æˆ³ç­‰æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ merge_phaseone_phasetwo_input_json.py # å°† phaseone å’Œ phasetwo çš„ input.jsonl åˆå¹¶æˆä¸€ä¸ª input.jsonl çš„è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ raw_log_processor.py      # åŸå§‹æ—¥å¿—å¤„ç†
â”‚   â”‚   â”œâ”€â”€ raw_metric_processor.py   # åŸå§‹æŒ‡æ ‡å¤„ç†
â”‚   â”‚   â””â”€â”€ raw_trace_processor.py    # åŸå§‹é“¾è·¯è¿½è¸ªå¤„ç†
â”‚   â”œâ”€â”€ models/          # æ¨¡å‹æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ trace_detectors.pkl       # traceå¼‚å¸¸æ£€æµ‹æ£€æµ‹å™¨æ¨¡å‹
â”‚   â”‚   â””â”€â”€ trace_detectors_normal_stats.pkl # traceæ­£å¸¸çŠ¶æ€ç»Ÿè®¡
â”‚   â”œâ”€â”€ input/           # è¾“å…¥æ•°æ®å¤„ç†
â”‚   â”‚   â”œâ”€â”€ extract_input_timestamp.py # æ—¶é—´æˆ³æå–
â”‚   â”‚   â””â”€â”€ input_timestamp.csv       # æå–äº†è¾“å…¥çš„æ—¶é—´æˆ³ç­‰ä¿¡æ¯ï¼Œä¾¿äºåæœŸè°ƒç”¨
â”‚   â”œâ”€â”€ submission/      # æäº¤ç»“æœ
â”‚   â”‚   â”œâ”€â”€ result.jsonl # ç»“æœæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ submit.py    # æäº¤è„šæœ¬
â”‚   â”œâ”€â”€ main_multiprocessing.py # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ preprocessing.sh # æ•°æ®é¢„å¤„ç†è„šæœ¬ï¼ˆå¦‚æœéœ€è¦ä¸‹è½½å’Œé¢„å¤„ç†ï¼‰
â”‚   â””â”€â”€ requirements.txt # Pythonä¾èµ–
â”œâ”€â”€ data/                # ä¸‹è½½å¹¶ä¸”ä¸å¤„ç†å¥½çš„æ•°æ®æ–‡ä»¶ç›®å½•
â”œâ”€â”€ Dockerfile          # Dockeré•œåƒæ„å»ºæ–‡ä»¶
â””â”€â”€ run.sh              # å¯åŠ¨è„šæœ¬
```

## æŠ€æœ¯æ–¹æ¡ˆè¯¦è¿°

### 1. å¤šæ¨¡æ€æ•°æ®å¤„ç†

#### 1.1 æ—¥å¿—æ•°æ®å¤„ç†
- **Drain3 ç®—æ³•**: ä½¿ç”¨é¢„è®­ç»ƒçš„Drain3æ¨¡å‹(`error_log-drain.pkl`)è¿›è¡Œæ—¥å¿—æ¨¡æ¿æå–
  - è‡ªåŠ¨è¯†åˆ«æ—¥å¿—æ¨¡å¼ï¼Œå°†ç›¸ä¼¼çš„æ—¥å¿—å½’ç±»åˆ°åŒä¸€æ¨¡æ¿
  - å¤§å¹…å‡å°‘æ—¥å¿—æ•°æ®é‡ï¼Œæå–å…³é”®é”™è¯¯ä¿¡æ¯
  - æ”¯æŒæ—¥å¿—å»é‡å’Œé¢‘æ¬¡ç»Ÿè®¡
- **å¤šå±‚è¿‡æ»¤æœºåˆ¶**:
  - æ—¶é—´èŒƒå›´è¿‡æ»¤ï¼šç²¾ç¡®å®šä½æ•…éšœæ—¶é—´çª—å£å†…çš„æ—¥å¿—
  - é”™è¯¯å…³é”®è¯è¿‡æ»¤ï¼šåªä¿ç•™åŒ…å«'error'çš„å…³é”®æ—¥å¿—
  - æ³¨å…¥é”™è¯¯è¿‡æ»¤ï¼šè‡ªåŠ¨æ’é™¤æµ‹è¯•æ³¨å…¥çš„é”™è¯¯æ—¥å¿—
  - Podçº§åˆ«é‡‡æ ·ï¼šæŒ‰Podåˆ†ç»„è¿›è¡Œæ™ºèƒ½é‡‡æ ·

#### 1.2 é“¾è·¯è¿½è¸ª (Trace) å¤„ç†
- **å¼‚å¸¸æ£€æµ‹æ¨¡å‹**: ä½¿ç”¨IsolationForestç®—æ³•æ„å»ºtraceå¼‚å¸¸æ£€æµ‹å™¨
  - é¢„è®­ç»ƒæ¨¡å‹å­˜å‚¨ï¼š`trace_detectors.pkl` å’Œ `trace_detectors_normal_stats.pkl`
  - åŸºäºæ­£å¸¸æ—¶æœŸçš„traceæ•°æ®è®­ç»ƒï¼Œè¯†åˆ«å¼‚å¸¸traceæ¨¡å¼
  - æ”¯æŒå¤šç»´åº¦ç‰¹å¾æå–å’Œå¼‚å¸¸è¯„åˆ†
- **æ—¶é—´çª—å£åˆ†æ**: ä½¿ç”¨æ»‘åŠ¨çª—å£æŠ€æœ¯åˆ†ætraceçš„æ—¶åºç‰¹å¾
- **æœåŠ¡æ‹“æ‰‘æ„ŸçŸ¥**: è‡ªåŠ¨æå–æœåŠ¡é—´è°ƒç”¨å…³ç³»

#### 1.3 æŒ‡æ ‡æ•°æ® (Metric) å¤„ç†
- **å¤šå±‚çº§æŒ‡æ ‡åˆ†æ**:
  - Nodeçº§æŒ‡æ ‡ï¼šCPUã€å†…å­˜ã€ç½‘ç»œã€ç£ç›˜ç­‰ç³»ç»ŸæŒ‡æ ‡
  - Podçº§æŒ‡æ ‡ï¼šå®¹å™¨çº§åˆ«çš„èµ„æºä½¿ç”¨æƒ…å†µ
  - Serviceçº§æŒ‡æ ‡ï¼šä¸šåŠ¡æœåŠ¡çš„æ€§èƒ½æŒ‡æ ‡
  - TiDBä¸“é¡¹æŒ‡æ ‡ï¼šæ•°æ®åº“ç‰¹å®šçš„æ€§èƒ½æŒ‡æ ‡
- **ç»Ÿè®¡åˆ†ææŠ€æœ¯**:
  - å¼‚å¸¸å€¼æ£€æµ‹å’Œè¿‡æ»¤
  - æ•…éšœæœŸä¸æ­£å¸¸æœŸçš„å¯¹æ¯”åˆ†æ
  - æŒ‡æ ‡é˜ˆå€¼åˆ¤æ–­å’Œè¶‹åŠ¿åˆ†æ

### 2. å¤§è¯­è¨€æ¨¡å‹æ™ºèƒ½

#### 2.1 æ¨¡å‹æ¶æ„
- **AutoGenæ¡†æ¶**: ä½¿ç”¨å¾®è½¯AutoGenæ„å»ºAIä»£ç†
- **å¤šæ¨¡å‹æ”¯æŒ**:
  - DeepSeekç³»åˆ—: deepseek-chat, deepseek-v3:671b, deepseek-r1:671bç­‰
  - Qwenç³»åˆ—: qwen3:235b
  - æ”¯æŒæ¨¡å‹è‡ªåŠ¨å®¹é”™å’Œåˆ‡æ¢

#### 2.2 æç¤ºè¯å·¥ç¨‹
- **åˆ†å±‚åˆ†æç­–ç•¥**:
  - å•æ¨¡æ€åˆ†æï¼šåˆ†åˆ«å¯¹logã€traceã€metricè¿›è¡Œä¸“é¡¹åˆ†æ
  - å¤šæ¨¡æ€èåˆï¼šç»¼åˆä¸‰ç§æ•°æ®æºè¿›è¡Œæ ¹å› åˆ†æ
- **ç»“æ„åŒ–è¾“å‡º**: ä¸¥æ ¼çš„JSONæ ¼å¼è¾“å‡ºï¼ŒåŒ…å«ï¼š
  - component: æ•…éšœç»„ä»¶è¯†åˆ«
  - reason: æ ¹æœ¬åŸå› åˆ†æ
  - reasoning_trace: å®Œæ•´çš„æ¨ç†è¿‡ç¨‹è¿½è¸ª

### 3. é«˜æ€§èƒ½å¤„ç†

#### 3.1 å¹¶è¡Œè®¡ç®—
- **å¤šè¿›ç¨‹æ¶æ„**: åŸºäºCPUæ ¸å¿ƒæ•°åŠ¨æ€è°ƒæ•´è¿›ç¨‹æ± å¤§å°(é»˜è®¤0.5å€æ ¸å¿ƒæ•°)
- **ä»»åŠ¡åˆ†ç‰‡**: å°†æ•…éšœæ—¶é—´æ®µåˆ†ç‰‡å¹¶è¡Œå¤„ç†

#### 3.2 å®¹é”™æœºåˆ¶
- **é‡è¯•ç­–ç•¥**: æ¯ä¸ªæ—¶é—´æ®µæœ€å¤šé‡è¯•3æ¬¡å¤„ç†
- **å¼‚å¸¸éš”ç¦»**: å•ä¸ªæ—¶é—´æ®µå¤„ç†å¤±è´¥ä¸å½±å“æ•´ä½“æµç¨‹
- **æ•°æ®ç¼ºå¤±å®¹å¿**: æŸäº›ç±»å‹çš„æ•°æ®ï¼ˆå¦‚logã€traceæˆ–metricï¼‰ç¼ºå¤±æ—¶ï¼Œç³»ç»Ÿä»å¯åˆ©ç”¨ç°æœ‰æ•°æ®ç»§ç»­è¿›è¡Œåˆ†æ

### 4. æ•°æ®é¢„å¤„ç†

#### 4.1 æ—¶é—´æˆ³ç»Ÿä¸€
- **å¤šæºæ—¶é—´å¯¹é½**: ç»Ÿä¸€logã€traceã€metricçš„æ—¶é—´æ ¼å¼
- **æ—¶åŒºå¤„ç†**: åŒ—äº¬æ—¶é—´æ ‡å‡†åŒ–å¤„ç†
- **ç²¾åº¦æ§åˆ¶**: çº³ç§’çº§æ—¶é—´æˆ³ç²¾ç¡®åŒ¹é…

#### 4.2 ç‰¹å¾å·¥ç¨‹
- **æœåŠ¡åæå–**: ä»Podåè‡ªåŠ¨æå–æœåŠ¡å
- **ç½‘ç»œæ‹“æ‰‘æ„å»º**: åŸºäºtraceæ•°æ®æ„å»ºæœåŠ¡è°ƒç”¨å…³ç³»
- **æŒ‡æ ‡èšåˆ**: å¤šç»´åº¦æŒ‡æ ‡çš„ç»Ÿè®¡èšåˆå’Œç‰¹å¾æå–

### 5. æ–¹æ¡ˆä¼˜åŠ¿ï¼š

1. **å‡†ç¡®æ€§**: å¤šæ¨¡æ€æ•°æ®äº’ç›¸éªŒè¯ï¼Œæé«˜æ•…éšœå®šä½å‡†ç¡®æ€§
2. **æ•ˆç‡**: å¹¶è¡Œå¤„ç†å’Œæ¨¡å‹é¢„è®­ç»ƒï¼Œå¤§å¹…æå‡å¤„ç†é€Ÿåº¦
3. **å¯æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•æ–°çš„æ•°æ®æºå’Œåˆ†æç®—æ³•
4. **é²æ£’æ€§**: å¤šå±‚å®¹é”™æœºåˆ¶ï¼Œä¿è¯ç³»ç»Ÿç¨³å®šè¿è¡Œ

### 6. æ ¹å› ç»“æœè¾“å‡ºç¤ºä¾‹ï¼ˆå­—æ®µç»„åˆè§†ä»»åŠ¡è€Œå®šï¼‰:
```bash
{
  "uuid": "33c11d00-2",
  "component": "checkoutservice",
  "reason": "disk IO overload",
  "reasoning_trace": [
    {
      "step": 1,
      "action": "LoadMetrics(checkoutservice)",
      "observation": "disk_read_latency spike"
    },
    {
      "step": 2,
      "action": "TraceAnalysis('frontend -> checkoutservice')",
      "observation": "checkoutservice self-loop spans"
    },
    {
      "step": 3,
      "action": "LogSearch(checkoutservice)",
      "observation": "IOError in 3 logs"
    }
  ]
}
   ```
## å‰ç½®ä¾èµ–å®‰è£…

### Git LFS å®‰è£…ï¼ˆå¿…éœ€ï¼‰

ç”±äºé¡¹ç›®æ•°æ®æ–‡ä»¶ä½¿ç”¨Git LFSè¿›è¡Œç®¡ç†ï¼Œè¿è¡Œå‰éœ€è¦å…ˆå®‰è£…å¹¶é…ç½®Git LFSã€‚

#### ğŸ§ åœ¨ Ubuntu ä¸Šå®‰è£… Git LFS

**âœ… æ­¥éª¤ 1ï¼šæ·»åŠ  Git LFS çš„ä»“åº“**
```bash
curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | sudo bash
```
è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨æ·»åŠ  Git LFS çš„å®˜æ–¹ APT æºã€‚

**âœ… æ­¥éª¤ 2ï¼šå®‰è£… Git LFS**
```bash
sudo apt-get install git-lfs
```

**âœ… æ­¥éª¤ 3ï¼šåˆå§‹åŒ– Git LFS**
å®‰è£…å®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯ç”¨ Git LFSï¼š
```bash
git lfs install
```
è¿™å°†é…ç½® Git ä»¥æ”¯æŒ LFS åŠŸèƒ½ã€‚

**ğŸ” éªŒè¯æ˜¯å¦æˆåŠŸå®‰è£… Git LFS**
é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯æ˜¯å¦æ­£ç¡®å®‰è£…å¹¶å¯ç”¨äº† Git LFSï¼š
```bash
git lfs version
```
è¾“å‡ºç¤ºä¾‹ï¼š
```
git-lfs/3.6.1 (GitHub; linux amd64; go 1.23.3)
```

## ç¯å¢ƒè¦æ±‚

- Docker æœåŠ¡å·²å¯åŠ¨
- è¶³å¤Ÿçš„ç³»ç»Ÿå†…å­˜ï¼ˆå¤šè¿›ç¨‹å¤„ç†ï¼‰
- ç½‘ç»œè¿æ¥ï¼ˆéœ€è¦è®¿é—®å¤–éƒ¨APIï¼‰

## è¿è¡Œæ–¹å¼

### å¿«é€Ÿå¯åŠ¨

```bash
bash run.sh
```

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

é¡¹ç›®éœ€è¦é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼ˆé€šè¿‡ `src/.env` æ–‡ä»¶æˆ–ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼‰ï¼Œé»˜è®¤æ˜¯å®˜æ–¹æä¾›çš„é˜Ÿä¼ api keyï¼Œå¯è‡ªè¡Œä¿®æ”¹ï¼š

- `KEJIYUN_API_KEY`: LLM APIå¯†é’¥
- `KEJIYUN_API_BASE`: LLM APIåŸºç¡€åœ°å€

### APIé…ç½®

é¡¹ç›®æ”¯æŒå¤šä¸ªLLMæ¨¡å‹ï¼š
- deepseek-chat
- deepseek-v3:671b
- deepseek-r1:671b
- deepseek-r1:671b-0528
- deepseek-r1:671b-64k
- qwen3:235b

## å¯èƒ½é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

### 1. Dockerç›¸å…³é—®é¢˜

**é—®é¢˜**: DockeræœåŠ¡æœªè¿è¡Œ
```
é”™è¯¯: Docker æœåŠ¡æœªè¿è¡Œæˆ–æƒé™ä¸è¶³
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¯åŠ¨DockeræœåŠ¡
sudo systemctl start docker

# å°†ç”¨æˆ·æ·»åŠ åˆ°dockerç»„
sudo usermod -aG docker $USER
# é‡æ–°ç™»å½•æˆ–æ‰§è¡Œ
newgrp docker
```

**é—®é¢˜**: Dockeré•œåƒæ„å»ºå¤±è´¥
```
é”™è¯¯: Docker é•œåƒæ„å»ºå¤±è´¥
```

**è§£å†³æ–¹æ¡ˆ**:

1. é…ç½®åŠ é€Ÿå™¨

```bash
sudo tee /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": [
    "https://docker.m.daocloud.io",
    "https://dockerproxy.com",
    "https://docker.mirrors.ustc.edu.cn",
    "https://docker.nju.edu.cn",
    "https://vp5v3vra.mirror.aliyuncs.com",
    "https://docker.registry.cyou",
    "https://docker-cf.registry.cyou",
    "https://dockercf.jsdelivr.fyi",
    "https://docker.jsdelivr.fyi",
    "https://dockertest.jsdelivr.fyi",
    "https://mirror.baidubce.com",
    "https://docker.m.daocloud.io",
    "https://docker.nju.edu.cn",
    "https://docker.mirrors.sjtug.sjtu.edu.cn",
    "https://docker.mirrors.ustc.edu.cn",
    "https://mirror.iscas.ac.cn",
    "https://docker.rainbond.cc"
  ]
}
EOF
```

2. é‡å¯ Docker æœåŠ¡

```bash
sudo systemctl daemon-reload
sudo systemctl restart docker

```

### 2. ç½‘ç»œè¿æ¥é—®é¢˜

**é—®é¢˜**: LLM APIè®¿é—®å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ src/.env æ–‡ä»¶ä¸­ç¯å¢ƒå˜é‡ `KEJIYUN_API_KEY` å’Œ `KEJIYUN_API_BASE` æ˜¯å¦æ­£ç¡®é…ç½®ï¼ˆé»˜è®¤ä½¿ç”¨çš„é˜Ÿä¼ apiï¼‰

### 3. å†…å­˜ä¸è¶³é—®é¢˜

**é—®é¢˜**: å®¹å™¨è¿è¡Œæ—¶å†…å­˜ä¸è¶³å¯¼è‡´ç¨‹åºå´©æºƒï¼Œæœºå™¨å¡æ­»

**è§£å†³æ–¹æ¡ˆ**:
- å»ºè®®å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹å¤šè¿›ç¨‹æ•°é‡ï¼Œåœ¨src/main_multiprocessing.pyä¸­è°ƒæ•´è¿›ç¨‹æ± å¤§å°ï¼ˆé»˜è®¤ä½¿ç”¨65%çš„æ ¸å¿ƒæ•°ï¼‰ï¼Œä½†æ˜¯å¦‚æœå†…å­˜å¤ªå°å¯èƒ½å¯¼è‡´çˆ†æ»¡å¯¼è‡´æœºå™¨å¡æ­»ï¼Œè¯·å…³æ³¨å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå¦‚æœçˆ†æ»¡ï¼Œè¯·å°†å…¶ä¿®æ”¹è‡³åˆé€‚çš„æ¯”ä¾‹:
```python
num_processes = max(1, int(cpu_count() * 0.5))
```

## æ³¨æ„äº‹é¡¹

1. ç¡®ä¿æ‰€æœ‰ä¾èµ–çš„å¤–éƒ¨æœåŠ¡ï¼ˆLLM APIï¼‰å¯æ­£å¸¸è®¿é—®
2. å»ºè®®åœ¨æ€§èƒ½è¾ƒå¥½çš„æœºå™¨ä¸Šè¿è¡Œï¼Œå¤„ç†å¤§é‡æ•°æ®æ—¶å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´

## è‡´è°¢

æ„Ÿè°¢CCF AIOps 2025æŒ‘æˆ˜èµ›ç»„å§”ä¼šæä¾›çš„é«˜è´¨é‡æ•°æ®é›†å’Œè‰¯å¥½çš„ç«èµ›ç¯å¢ƒï¼Œä¸ºæˆ‘ä»¬å›¢é˜Ÿæä¾›äº†å®è´µçš„å­¦ä¹ å’Œäº¤æµå¹³å°ã€‚

æœ¬é¡¹ç›®å‚ä¸çš„æ¯”èµ›ä¸ºï¼š**èµ›é“ä¸€: åŸºäºå¤§æ¨¡å‹æ™ºèƒ½ä½“çš„å¾®æœåŠ¡æ ¹å› å®šä½**  
æ¯”èµ›å®˜ç½‘ï¼š[CCF AIOps 2025 Challenge](https://challenge.aiops.cn/home/competition/1920410697896845344)